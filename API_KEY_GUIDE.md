# 🔑 API 키 발급 가이드

프로젝트에 필요한 총 3개의 API 키를 발급받는 방법입니다.

---

## 📋 필요한 API 키 목록

| 번호 | API 키 | 용도 | 발급처 | 소요시간 |
|------|--------|------|--------|---------|
| 1 | 서울시 일반 인증키 | 승하차 데이터 | 서울 열린데이터광장 | 즉시 |
| 2 | 서울시 실시간 지하철 인증키 | 도착정보 | 서울 열린데이터광장 | 즉시 |
| 3 | 기상청 단기예보 인증키 | 날씨 데이터 | 공공데이터포털 | 1-2일 |

---

## 1️⃣ 서울시 일반 인증키 발급

### 단계 1: 사이트 접속
```
https://data.seoul.go.kr
```

### 단계 2: 회원가입/로그인
- 우측 상단 "로그인" 클릭
- 회원가입 필요 시 진행

### 단계 3: 인증키 신청
1. 로그인 후 우측 상단 **"마이페이지"** 클릭
2. 좌측 메뉴에서 **"인증키 신청"** 클릭
3. **"일반 인증키 신청"** 버튼 클릭

### 단계 4: 정보 입력
- **사용 용도**: 학습/연구
- **사용 URL**: `localhost` (학습용이므로)
- **기타 정보**: 프로젝트 설명 간단히 작성

### 단계 5: 인증키 확인
- 신청 즉시 발급됨
- 마이페이지 > 인증키 관리에서 확인 가능
- 복사해서 `.env` 파일에 저장

```env
SEOUL_GENERAL_API_KEY=여기에_복사한_일반_인증키
```

---

## 2️⃣ 서울시 실시간 지하철 인증키 발급

### 단계 1: 동일한 사이트
```
https://data.seoul.go.kr
```
(이미 로그인되어 있음)

### 단계 2: 인증키 신청
1. 마이페이지 > 인증키 신청
2. **"실시간 지하철 인증키 신청"** 버튼 클릭

### 단계 3: 정보 입력
- **사용 용도**: 학습/연구
- **사용 URL**: `localhost`
- **사용 제한**: 하루 최대 1,000건

### 단계 4: 인증키 확인
- 신청 즉시 발급됨
- 복사해서 `.env` 파일에 저장

```env
SEOUL_REALTIME_API_KEY=여기에_복사한_실시간_인증키
```

---

## 3️⃣ 기상청 단기예보 API 키 발급

### 단계 1: 공공데이터포털 접속
```
https://www.data.go.kr
```

### 단계 2: 회원가입/로그인
- 우측 상단 "로그인" 클릭
- 회원가입 필요 시 진행

### 단계 3: API 검색
1. 상단 검색창에 **"기상청 단기예보"** 입력
2. 검색 결과에서 **"기상청_단기예보 ((구)_동네예보) 조회서비스"** 선택

### 단계 4: 활용신청
1. 페이지 우측 **"활용신청"** 버튼 클릭
2. 약관 동의
3. 활용 목적: 학습/연구

### 단계 5: 승인 대기
- **승인까지 1-2일 소요** (즉시 승인되는 경우도 있음)
- 마이페이지 > 인증키 관리에서 확인

### 단계 6: 인증키 확인
- 승인되면 이메일로 통보
- 복사해서 `.env` 파일에 저장

```env
WEATHER_API_KEY=여기에_복사한_기상청_인증키
```

---

## ✅ 최종 .env 파일 예시

```env
# ========================================
# 서울시 API 키
# ========================================

SEOUL_GENERAL_API_KEY=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6
SEOUL_REALTIME_API_KEY=z9y8x7w6v5u4t3s2r1q0p9o8n7m6l5k4

# ========================================
# 기상청 API 키
# ========================================

WEATHER_API_KEY=AbCdEfGhIjKlMnOpQrStUvWxYz1234567890

# ========================================
# Flask 설정
# ========================================

FLASK_ENV=development
FLASK_DEBUG=True
SECRET_KEY=your_secret_key_here
```

---

## 🚨 주의사항

### 1. API 키 보안
- ✅ `.env` 파일은 Git에 절대 올리지 마세요
- ✅ `.gitignore`에 `.env`가 포함되어 있는지 확인
- ✅ API 키를 공개된 곳에 절대 노출하지 마세요

### 2. 사용 제한
- 서울시 실시간 API: **하루 1,000건 제한**
- 일반 API: 한 번에 최대 1,000건까지 조회 가능

### 3. 키 재발급
- 키가 노출되었다면 즉시 재발급
- 마이페이지에서 기존 키 삭제 후 재신청

---

## 🔍 테스트 방법

API 키를 모두 발급받았다면:

```bash
# 1. .env 파일에 API 키 입력
# 2. 데이터 수집 모듈 테스트
python src/data_collector.py
```

**예상 출력:**
```
======================================================================
🔍 데이터 수집 모듈 테스트
======================================================================

1️⃣  지하철 승하차 데이터 테스트
----------------------------------------------------------------------
📡 지하철 승하차 데이터 수집 중...
✓ 수집 완료: 1,234건

2️⃣  실시간 도착정보 테스트
----------------------------------------------------------------------
✓ 도착정보 조회 완료: 10건

3️⃣  날씨 데이터 테스트
----------------------------------------------------------------------
🌤️  날씨 데이터 수집 중...
✓ 수집 완료: 100건

4️⃣  공휴일 데이터 테스트
----------------------------------------------------------------------
📅 공휴일 데이터 생성 중...
✓ 생성 완료: 11건

======================================================================
✅ 테스트 완료!
======================================================================
```

---

## 💡 FAQ

### Q1: 서울시 API 키를 두 개 발급받아야 하나요?
**A:** 네! 일반 인증키와 실시간 지하철 인증키는 별도입니다.

### Q2: 기상청 API 승인이 너무 오래 걸려요
**A:** 보통 1-2일 소요됩니다. 급하다면 기상청 API 없이 먼저 진행하고, 승인 후 추가하세요.

### Q3: API 키가 작동하지 않아요
**A:** 다음을 확인하세요:
- 키를 정확히 복사했는지
- `.env` 파일이 프로젝트 루트에 있는지
- `python-dotenv`가 설치되어 있는지

### Q4: 하루 1,000건 제한이 부족해요
**A:** 서울시 홈페이지에서 활용사례를 등록하면 제한이 해제됩니다.

---

## 📞 문의

API 발급 관련 문의:
- **서울 열린데이터광장**: 02-2133-1271
- **공공데이터포털**: 1661-0211
